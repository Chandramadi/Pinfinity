<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed</title>
    <link rel="stylesheet" href="/stylesheets/feed.css">
</head>

<body>

    <nav class="navbar">
        <img src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png" alt="pin logo"
            class="img1" />
        <a href="#" class="nav-link">Pinterest</a>
        <a href="/profile" class="nav-link nav-link-differ">Profile</a>
        <a href="/profile/posts" class="nav-link nav-link-differ">Posts</a>
        <a href="/logout" class="btn-custom">Log Out</a>
    </nav>

    <div class="cards">
        <% posts.forEach(function(post){ %>
            <div class="card">
                <img class="card-img" src="/images/uploads/<%=post.image %>" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title"><%=post.caption%></h5>
                    <p class="card-title">@<%=post.user.username%></a>
                    <% 
                        const today = new Date(post.createdAt);
                        const yyyy = today.getFullYear();
                        let mm = today.getMonth() + 1;   <!-- Months start at 0!  -->
                        let dd = today.getDate();

                        if (dd < 10) dd = '0' + dd;
                        if (mm < 10) mm = '0' + mm;

                        const formattedToday = dd + '/' + mm + '/' + yyyy;
                    %>
                    <p class="card-date"><%=formattedToday%></p>
                </div>
            </div>
        <% }) %>
    </div>

</body>

</html>